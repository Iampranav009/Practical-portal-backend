Placeholder for Render shell outputs.
After running the following in Render shell, paste raw output below with timestamps:
1) DNS
node -e "require('dns').lookup('srv1741.hstgr.io', (e,r)=>console.log('dns',e||r))"
2) TCP connect
node -e "const net=require('net');const s=net.createConnection(3306,'srv1741.hstgr.io');s.on('connect',()=>{console.log('tcp ok');s.end()});s.on('error',e=>console.error('tcp err',e));"
3) Curl preflight
curl -i -X OPTIONS 'https://practical-portal-backend.onrender.com/api/auth/google-signin' -H 'Origin: https://practicalportal.vercel.app' -H 'Access-Control-Request-Method: POST' -H 'Access-Control-Request-Headers: Content-Type,Authorization'
4) MySQL CLI (if available)
mysql -h srv1741.hstgr.io -P 3306 -u $DB_USER -p -e 'SELECT 1'


------------
test results 

curl -i -X OPTIONS "http://localhost:5000/api/auth/google-signin" \
{"success":false,"message":"Endpoint not found"}

http://localhost:5000/api/health/cors
{"success":true,"message":"CORS debug information","timestamp":"2025-09-08T09:49:24.589Z","request":{"normalizedOrigin":null,"method":"GET","path":"/api/health/cors","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"},"cors":{"allowedOrigins":["https://practicalportal.vercel.app","http://localhost:3000"],"isOriginAllowed":false,"credentials":true,"methods":["GET","POST","PUT","PATCH","DELETE","OPTIONS"],"allowedHeaders":["Content-Type","Authorization","X-Requested-With","Accept","Origin","Access-Control-Request-Method","Access-Control-Request-Headers"]},"headers":{"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, POST, PUT, PATCH, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, X-Requested-With, Accept, Origin, Access-Control-Request-Method, Access-Control-Request-Headers"}}


http://localhost:5000/health
{"success":false,"message":"Service degraded","timestamp":"2025-09-08T09:50:00.288Z","status":"degraded","uptime":360.2046973,"memory":{"rss":70250496,"heapTotal":34009088,"heapUsed":24849272,"external":2316614,"arrayBuffers":56256},"monitoring":{"status":"degraded","metrics":{"requests":{"total":24,"successful":7,"failed":16,"rateLimited":0},"database":{"queries":0,"successful":0,"failed":0,"timeouts":0,"avgResponseTime":0},"socket":{"connections":2,"disconnections":1,"errors":0},"errors":{"total":52,"byType":{"INFO":52},"recent":[{"timestamp":"2025-09-08T09:44:52.195Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/google-signin","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:44:52.214Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":404,"duration":"27ms","ip":"::1"}},{"timestamp":"2025-09-08T09:44:53.062Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:44:53.064Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":404,"duration":"2ms","ip":"::1"}},{"timestamp":"2025-09-08T09:46:29.954Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/google-signin","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:46:29.957Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":404,"duration":"3ms","ip":"::1"}},{"timestamp":"2025-09-08T09:46:33.702Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/google-signin","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:46:33.712Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":404,"duration":"73ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:00.921Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/user/wzzib7mv1raeCRMWRJe1v1JIaAl2","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:01.158Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/user/wzzib7mv1raeCRMWRJe1v1JIaAl2","statusCode":200,"duration":"226ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:01.257Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:01.555Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":304,"duration":"298ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:01.651Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/user/wzzib7mv1raeCRMWRJe1v1JIaAl2","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:01.657Z","level":"INFO","message":"Socket.IO connection established","meta":{"socketId":"YyCH1_BuqqNkfHi3AAAB"}},{"timestamp":"2025-09-08T09:47:01.658Z","level":"INFO","message":"Socket.IO connection established","meta":{"socketId":"YyCH1_BuqqNkfHi3AAAB","totalConnections":1}},{"timestamp":"2025-09-08T09:47:01.819Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/user/wzzib7mv1raeCRMWRJe1v1JIaAl2","statusCode":304,"duration":"164ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:01.826Z","level":"INFO","message":"Socket.IO connection closed","meta":{"socketId":"YyCH1_BuqqNkfHi3AAAB","reason":"client namespace disconnect","totalConnections":0}},{"timestamp":"2025-09-08T09:47:01.904Z","level":"INFO","message":"Socket.IO connection established","meta":{"socketId":"yKctcWLngAw47YdnAAAD"}},{"timestamp":"2025-09-08T09:47:01.905Z","level":"INFO","message":"Socket.IO connection established","meta":{"socketId":"yKctcWLngAw47YdnAAAD","totalConnections":2}},{"timestamp":"2025-09-08T09:47:02.274Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.620Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/9","statusCode":200,"duration":"346ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:02.624Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.781Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/9","statusCode":304,"duration":"157ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:02.785Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.854Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/announcements/unread-count/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.863Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/submissions/batch/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.872Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/student/my-batches","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:02.893Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/submissions/batch/9/stats","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.023Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/unread-count/9","statusCode":200,"duration":"174ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.033Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/announcements/unread-count/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.125Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/unread-count/9","statusCode":200,"duration":"92ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.255Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/batch/9","statusCode":200,"duration":"393ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.259Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/submissions/batch/9","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.268Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/student/my-batches","statusCode":304,"duration":"396ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.273Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/student/my-batches","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.356Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/batch/9","statusCode":304,"duration":"98ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.407Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":304,"duration":"623ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.411Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.482Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/student/my-batches","statusCode":304,"duration":"209ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.494Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/student/my-batches","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.517Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/batch/9/stats","statusCode":200,"duration":"638ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.536Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/submissions/batch/9/stats","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:03.700Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":304,"duration":"290ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.759Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/batch/9/stats","statusCode":304,"duration":"226ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.925Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/student/my-batches","statusCode":304,"duration":"432ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:03.939Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/batches/student/my-batches","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1","origin":"http://localhost:3000"}},{"timestamp":"2025-09-08T09:47:04.210Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/student/my-batches","statusCode":304,"duration":"279ms","ip":"::1"}},{"timestamp":"2025-09-08T09:47:36.752Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/auth/google-signin","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:47:36.753Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/","statusCode":404,"duration":"1ms","ip":"::1"}},{"timestamp":"2025-09-08T09:49:24.589Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/api/health/cors","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}},{"timestamp":"2025-09-08T09:49:24.598Z","level":"INFO","message":"Request completed","meta":{"method":"GET","url":"/api/health/cors","statusCode":200,"duration":"3ms","ip":"::1"}},{"timestamp":"2025-09-08T09:50:00.144Z","level":"INFO","message":"Request received","meta":{"method":"GET","url":"/health","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}}]},"uptime":{"startTime":1757324643578,"lastRestart":1757324643578,"current":356567},"memory":{"rss":70242304,"heapTotal":34009088,"heapUsed":24796272,"external":2316527,"arrayBuffers":56169},"cpu":{"user":343000,"system":593000},"timestamp":"2025-09-08T09:50:00.145Z"},"health":{"database":{"status":"healthy","successRate":1,"avgResponseTime":0},"requests":{"status":"degraded","successRate":0.291666666666667,"total":24},"errors":{"status":"degraded","rate":2.16666666666667,"total":52}}},"database":{"healthy":true,"responseTime":142,"poolStats":{"totalConnections":0,"activeConnections":0,"idleConnections":0,"queuedRequests":0,"connectionStats":{"totalConnections":0,"successfulConnections":0,"failedConnections":0,"timeouts":0,"resets":0},"circuitBreakerOpen":false,"isInitialized":false},"connectionStatus":{"connected":false,"circuitBreakerOpen":false,"connectionStats":{"totalConnections":0,"successfulConnections":0,"failedConnections":0,"timeouts":0,"resets":0},"timestamp":"2025-09-08T09:50:00.288Z"}}}

curl -s "http://localhost:5000/health/db/basic"
{"success":false,"message":"Basic connection test failed","timestamp":"2025-09-08T09:51:38.874Z","diagnostic":{"success":false,"message":"Basic connection test failed","timing":{"totalMs":172,"dnsMs":1,"mysqlConnectMs":129,"queryMs":-1757325098832},"error":{"message":"You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'current_time' at line 1","code":"ER_PARSE_ERROR","errno":1064,"sqlState":"42000"}}}


curl -s "http://localhost:5000/health/db/sockettest"
{"success":true,"message":"Socket connectivity test passed","timestamp":"2025-09-08T09:52:06.115Z","host":"srv1741.hstgr.io","port":3306,"results":{"dns":{"success":true,"address":"2a02:4780:11:1234::b0","family":6,"timeMs":0},"tcpConnect":{"success":true,"timeMs":40},"timestamp":"2025-09-08T09:52:06.075Z"}
